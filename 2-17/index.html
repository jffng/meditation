<!DOCTYPE html>
<html>
<head>
	<title></title>
	<style type="text/css">
	#container{
		margin-left: auto;
		margin-right: auto;
		width: 50%;
	}
	img{
		display: inline-block;
		width: 25%;
	}
	</style>
	<script type="text/javascript" src="//code.jquery.com/jquery-2.1.3.min.js"></script>
</head>
<body>
<div>
	<div id="container">
		<div id="buttons">
			<button id="go">Go</button>	
			<button id="replace">Replace</button>
		</div>
		<div id="imgs">
		</div>
	</div>
</div>
<script type="text/javascript">
	function rollover(image,src){
		image.src = src;
	}

	document.getElementById("go").addEventListener("click", function (argument) {
		$.ajax({
			url: '/submit',
			type: 'GET',
			dataType: 'json'
		})
		.done(function(d) {
			console.log(d);
			$("#imgs").html('');
			for (var i in d) {
				ig=d[i][0];
				flickr=d[i][1];

				var img = $('<img id="dynamic'+i+'">');
				$("#imgs").append(img);
				$("#dynamic"+i).attr("src", ig);
				$("#dynamic"+i)
					.mouseover(function(event) {
						$(this).attr("src", flickr);
						console.log('mouseover');
					})
					.mouseout(function(event) {
						$(this).attr("src", ig);
						console.log('mouseout');						
					});

				// $("#imgs").append('<img src='+ig+' onmouseover="this.src="'+flickr+'"" onmouseout="this.src="'+ig+'"">');
			}
			console.log("success");
		})
		.fail(function() {
			console.log("error");
		})
		.always(function() {
			console.log("complete");
		});
	});

</script>
</body>
</html>